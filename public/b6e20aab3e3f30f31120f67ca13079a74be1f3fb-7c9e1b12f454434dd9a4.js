(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"37F5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},"9mpf":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i={clockOffset:0,getDateWithClockOffset:function(){return i.clockOffset?new Date((new Date).getTime()+i.clockOffset):new Date},getClockOffset:function(){return i.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=i.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=r(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6];return new Date(Date.UTC(Number(n),Number(i)-1,Number(o),Number(s),Number(a),Number(c)))},isClockSkewed:function(e){return Math.abs(e.getTime()-i.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean("BadRequestException"===t["x-amzn-errortype"]&&(t.date||t.Date))},setClockOffset:function(e){i.clockOffset=e}}},A40W:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("Nt7R"),i=n("R10A"),o=n("+rSW"),s=n("9mpf"),a=n("vVj2"),c=n("vDqi"),u=n.n(c),l=n("CxY0"),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},v=new r.a("RestClient"),y=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=i.a,this._options=e,v.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return p(this,void 0,void 0,(function(){var r,i,a,c,u,p,y,g,_,b,m,E,w,O,I=this;return h(this,(function(h){switch(h.label){case 0:return v.debug(t,e),a="us-east-1",c="execute-api",u=void 0,"string"==typeof e?(r=this._parseUrl(e),i=e):(i=e.endpoint,u=e.custom_header,a=e.region,c=e.service,r=this._parseUrl(e.endpoint)),p={method:t,url:i,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},y={},o.a.isReactNative&&(g=o.a.userAgent||"aws-amplify/0.1.x",y={"User-Agent":g}),_=Object.assign({},n),b=_.response,_.body&&("function"==typeof FormData&&_.body instanceof FormData?(y["Content-Type"]="multipart/form-data",p.data=_.body):(y["Content-Type"]="application/json; charset=UTF-8",p.data=JSON.stringify(_.body))),_.responseType&&(p.responseType=_.responseType),_.withCredentials&&(p.withCredentials=_.withCredentials),_.timeout&&(p.timeout=_.timeout),_.cancellableToken&&(p.cancelToken=_.cancellableToken.token),p.signerServiceInfo=_.signerServiceInfo,"function"!=typeof u?[3,2]:[4,u()];case 1:return E=h.sent(),[3,3];case 2:E=void 0,h.label=3;case 3:return m=E,p.headers=f(f(f({},y),m),_.headers),w=Object(l.parse)(i,!0,!0),w.search,O=d(w,["search"]),p.url=Object(l.format)(f(f({},O),{query:f(f({},O.query),_.queryStringParameters||{})})),void 0!==p.headers.Authorization?(p.headers=Object.keys(p.headers).reduce((function(e,t){return p.headers[t]&&(e[t]=p.headers[t]),e}),{}),[2,this._request(p,b)]):[2,this.Credentials.get().then((function(r){return I._signed(f({},p),r,b,{region:a,service:c}).catch((function(r){if(s.a.isClockSkewError(r)){var i=r.response.headers,o=i&&(i.date||i.Date),a=new Date(o),c=s.a.getDateFromHeaderString(p.headers["x-amz-date"]);if(s.a.isClockSkewed(c,a))return s.a.setClockOffset(a.getTime()-c.getTime()),I.ajax(e,t,n)}throw r}))}),(function(e){return v.debug("No credentials available, the request will be unsigned"),I._request(p,b)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return n&&n.cancel(t),!0},e.prototype.isCancel=function(e){return u.a.isCancel(e)},e.prototype.getCancellableToken=function(){return u.a.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var i=r.service,o=r.region,s=e.signerServiceInfo,c=d(e,["signerServiceInfo"]),l=o||this._region||this._options.region,f=i||this._service||this._options.service,p={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},h={region:l,service:f},y=Object.assign(h,s),g=a.a.sign(c,p,y);return g.data&&(g.body=g.data),v.debug("Signed Request: ",g),delete g.headers.host,u()(g).then((function(e){return n?e:e.data})).catch((function(e){throw v.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),u()(e).then((function(e){return t?e:e.data})).catch((function(e){throw v.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}()},"AO/9":function(e,t,n){"use strict";var r=n("v4IS");n("TESy");t.a=r.a},CexW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,i=r?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",o=r?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",s="x-amz-user-agent"},"Cqq/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("37F5"),o=n("K1EM"),s=n("bBE8"),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=c(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(c(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function c(e){return"string"==typeof e?s.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},GOuw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("fQM2"),i=n("+rSW"),o=(n("JIIv"),n("R10A"),{userAgent:i.a.userAgent});r.a},JIIv:function(e,t,n){"use strict";var r=n("Nt7R"),i=new r.a("I18n"),o=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),i.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),s=n("fQM2"),a=new r.a("I18n"),c=null,u=null,l=function(){function e(){}return e.configure=function(t){return a.debug("configure I18n"),t?(c=Object.assign({},c,t.I18n||t),e.createInstance(),c):c},e.getModuleName=function(){return"I18n"},e.createInstance=function(){a.debug("create I18n instance"),u||(u=new o(c))},e.setLanguage=function(t){return e.checkConfig(),u.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?u.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),u.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),u.putVocabularies(t)},e.checkConfig=function(){return u||(u=new o(c)),!0},e}();s.a.register(l)},K1EM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("37F5"),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var p=this.temp[f-2],h=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,d=((p=this.temp[f-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(d+this.temp[f-16]|0)}var v=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&c^~a&u)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=a,a=s+v|0,s=o,o=i,i=n,n=v+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=i},Kkn0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("mrSG").__exportStar(n("Cqq/"),t)},"Nw+h":function(e,t,n){e.exports=n("rv4x").Observable},Qlnm:function(e,t,n){(function(t){var n;n=function(){return function(e){var t,n=e.localStorage||(t={},{setItem:function(e,n){t[e]=n},getItem:function(e){return t[e]},removeItem:function(e){delete t[e]}}),r=1,i=2,o=3,s=4,a=5,c=6,u=7,l=8,f=9,p=10,h=11,d=12,v=13,y=14,g=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r="Unknown property, "+n+". Valid properties are:";for(var i in t)t.hasOwnProperty(i)&&(r=r+" "+i);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(E(b.INVALID_TYPE,[typeof e[n],n]))}},_=function(e,t){return function(){return e.apply(t,arguments)}},b={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},m={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},E=function(e,t){var n=e.text;if(t)for(var r,i,o=0;o<t.length;o++)if(r="{"+o+"}",(i=n.indexOf(r))>0){var s=n.substring(0,i),a=n.substring(i+r.length);n=s+t[o]+a}return n},w=[0,6,77,81,73,115,100,112,3],O=[0,4,77,81,84,84,4],I=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function T(e,t){var n,r=t,l=e[t],p=l>>4,d=l&=15;t+=1;var v=0,y=1;do{if(t==e.length)return[null,r];v+=(127&(n=e[t++]))*y,y*=128}while(0!=(128&n));var g=t+v;if(g>e.length)return[null,r];var _=new I(p);switch(p){case i:1&e[t++]&&(_.sessionPresent=!0),_.returnCode=e[t++];break;case o:var b=d>>1&3,m=N(e,t),E=R(e,t+=2,m);t+=m,b>0&&(_.messageIdentifier=N(e,t),t+=2);var w=new D(e.subarray(t,g));1==(1&d)&&(w.retained=!0),8==(8&d)&&(w.duplicate=!0),w.qos=b,w.destinationName=E,_.payloadMessage=w;break;case s:case a:case c:case u:case h:_.messageIdentifier=N(e,t);break;case f:_.messageIdentifier=N(e,t),t+=2,_.returnCode=e.subarray(t,g)}return[_,g]}function S(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function A(e,t,n,r){return C(e,n,r=S(t,n,r)),r+t}function N(e,t){return 256*e[t]+e[t+1]}function k(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function C(e,t,n){for(var r=n,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=o&&o<=56319){var s=e.charCodeAt(++i);if(isNaN(s))throw new Error(E(b.MALFORMED_UNICODE,[o,s]));o=s-56320+(o-55296<<10)+65536}o<=127?t[r++]=o:o<=2047?(t[r++]=o>>6&31|192,t[r++]=63&o|128):o<=65535?(t[r++]=o>>12&15|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18&7|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t}function R(e,t,n){for(var r,i="",o=t;o<t+n;){var s=e[o++];if(s<128)r=s;else{var a=e[o++]-128;if(a<0)throw new Error(E(b.MALFORMED_UTF,[s.toString(16),a.toString(16),""]));if(s<224)r=64*(s-192)+a;else{var c=e[o++]-128;if(c<0)throw new Error(E(b.MALFORMED_UTF,[s.toString(16),a.toString(16),c.toString(16)]));if(s<240)r=4096*(s-224)+64*a+c;else{var u=e[o++]-128;if(u<0)throw new Error(E(b.MALFORMED_UTF,[s.toString(16),a.toString(16),c.toString(16),u.toString(16)]));if(!(s<248))throw new Error(E(b.MALFORMED_UTF,[s.toString(16),a.toString(16),c.toString(16),u.toString(16)]));r=262144*(s-240)+4096*a+64*c+u}}}r>65535&&(r-=65536,i+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),i+=String.fromCharCode(r)}return i}I.prototype.encode=function(){var e,t=(15&this.type)<<4,n=0,i=[],s=0;switch(void 0!==this.messageIdentifier&&(n+=2),this.type){case r:switch(this.mqttVersion){case 3:n+=w.length+3;break;case 4:n+=O.length+3}n+=k(this.clientId)+2,void 0!==this.willMessage&&(n+=k(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(u)),n+=e.byteLength+2),void 0!==this.userName&&(n+=k(this.userName)+2),void 0!==this.password&&(n+=k(this.password)+2);break;case l:t|=2;for(var a=0;a<this.topics.length;a++)i[a]=k(this.topics[a]),n+=i[a]+2;n+=this.requestedQos.length;break;case p:for(t|=2,a=0;a<this.topics.length;a++)i[a]=k(this.topics[a]),n+=i[a]+2;break;case c:t|=2;break;case o:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),n+=(s=k(this.payloadMessage.destinationName))+2;var u=this.payloadMessage.payloadBytes;n+=u.byteLength,u instanceof ArrayBuffer?u=new Uint8Array(u):u instanceof Uint8Array||(u=new Uint8Array(u.buffer))}var f=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(n),h=f.length+1,d=new ArrayBuffer(n+h),v=new Uint8Array(d);if(v[0]=t,v.set(f,1),this.type==o)h=A(this.payloadMessage.destinationName,s,v,h);else if(this.type==r){switch(this.mqttVersion){case 3:v.set(w,h),h+=w.length;break;case 4:v.set(O,h),h+=O.length}var y=0;this.cleanSession&&(y=2),void 0!==this.willMessage&&(y|=4,y|=this.willMessage.qos<<3,this.willMessage.retained&&(y|=32)),void 0!==this.userName&&(y|=128),void 0!==this.password&&(y|=64),v[h++]=y,h=S(this.keepAliveInterval,v,h)}switch(void 0!==this.messageIdentifier&&(h=S(this.messageIdentifier,v,h)),this.type){case r:h=A(this.clientId,k(this.clientId),v,h),void 0!==this.willMessage&&(h=A(this.willMessage.destinationName,k(this.willMessage.destinationName),v,h),h=S(e.byteLength,v,h),v.set(e,h),h+=e.byteLength),void 0!==this.userName&&(h=A(this.userName,k(this.userName),v,h)),void 0!==this.password&&(h=A(this.password,k(this.password),v,h));break;case o:v.set(u,h);break;case l:for(a=0;a<this.topics.length;a++)h=A(this.topics[a],i[a],v,h),v[h++]=this.requestedQos[a];break;case p:for(a=0;a<this.topics.length;a++)h=A(this.topics[a],i[a],v,h)}return d};var M=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new I(d).encode(),r=function(e){return function(){return i.apply(e)}},i=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(r(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(b.PING_TIMEOUT.code,E(b.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(r(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},P=function(e,t,n,r){t||(t=30),this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,r),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},L=function(t,r,i,o,s){if(!("WebSocket"in e)||null===e.WebSocket)throw new Error(E(b.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e)||null===e.ArrayBuffer)throw new Error(E(b.UNSUPPORTED,["ArrayBuffer"]));for(var a in this._trace("Paho.Client",t,r,i,o,s),this.host=r,this.port=i,this.path=o,this.uri=t,this.clientId=s,this._wsuri=null,this._localKey=r+":"+i+("/mqtt"!=o?":"+o:"")+":"+s+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,n)0!==a.indexOf("Sent:"+this._localKey)&&0!==a.indexOf("Received:"+this._localKey)||this.restore(a)};L.prototype.host=null,L.prototype.port=null,L.prototype.path=null,L.prototype.uri=null,L.prototype.clientId=null,L.prototype.socket=null,L.prototype.connected=!1,L.prototype.maxMessageIdentifier=65536,L.prototype.connectOptions=null,L.prototype.hostIndex=null,L.prototype.onConnected=null,L.prototype.onConnectionLost=null,L.prototype.onMessageDelivered=null,L.prototype.onMessageArrived=null,L.prototype.traceFunction=null,L.prototype._msg_queue=null,L.prototype._buffered_msg_queue=null,L.prototype._connectTimeout=null,L.prototype.sendPinger=null,L.prototype.receivePinger=null,L.prototype._reconnectInterval=1,L.prototype._reconnecting=!1,L.prototype._reconnectTimeout=null,L.prototype.disconnectedPublishing=!1,L.prototype.disconnectedBufferSize=5e3,L.prototype.receiveBuffer=null,L.prototype._traceBuffer=null,L.prototype._MAX_TRACE_ENTRIES=100,L.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(E(b.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(E(b.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},L.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(E(b.INVALID_STATE,["not connected"]));var n=new I(l);n.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),n.requestedQos=[];for(var r=0;r<n.topics.length;r++)n.requestedQos[r]=t.qos;t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:E(e)})}),t.timeout&&(n.timeOut=new P(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.SUBSCRIBE_TIMEOUT.code,errorMessage:E(b.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},L.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(E(b.INVALID_STATE,["not connected"]));var n=new I(p);n.topics=e.constructor===Array?e:[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new P(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.UNSUBSCRIBE_TIMEOUT.code,errorMessage:E(b.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},L.prototype.send=function(e){this._trace("Client.send",e);var t=new I(o);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(E(b.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(E(b.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},L.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(E(b.INVALID_STATE,["not connecting or connected"]));var e=new I(y);this._notify_msg_sent[e]=_(this._disconnected,this),this._schedule_message(e)},L.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},L.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},L.prototype.stopTrace=function(){delete this._traceBuffer},L.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=_(this._on_socket_open,this),this.socket.onmessage=_(this._on_socket_message,this),this.socket.onerror=_(this._on_socket_error,this),this.socket.onclose=_(this._on_socket_close,this),this.sendPinger=new M(this,this.connectOptions.keepAliveInterval),this.receivePinger=new M(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new P(this,this.connectOptions.timeout,this._disconnected,[b.CONNECT_TIMEOUT.code,E(b.CONNECT_TIMEOUT)])},L.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},L.prototype.store=function(e,t){var r={type:t.type,messageIdentifier:t.messageIdentifier,version:1};switch(t.type){case o:t.pubRecReceived&&(r.pubRecReceived=!0),r.payloadMessage={};for(var i="",s=t.payloadMessage.payloadBytes,a=0;a<s.length;a++)s[a]<=15?i=i+"0"+s[a].toString(16):i+=s[a].toString(16);r.payloadMessage.payloadHex=i,r.payloadMessage.qos=t.payloadMessage.qos,r.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(r.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(r.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),r.sequence=t.sequence);break;default:throw Error(E(b.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,r]))}n.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(r))},L.prototype.restore=function(e){var t=n.getItem(e),r=JSON.parse(t),i=new I(r.type,r);switch(r.type){case o:for(var s=r.payloadMessage.payloadHex,a=new ArrayBuffer(s.length/2),c=new Uint8Array(a),u=0;s.length>=2;){var l=parseInt(s.substring(0,2),16);s=s.substring(2,s.length),c[u++]=l}var f=new D(c);f.qos=r.payloadMessage.qos,f.destinationName=r.payloadMessage.destinationName,r.payloadMessage.duplicate&&(f.duplicate=!0),r.payloadMessage.retained&&(f.retained=!0),i.payloadMessage=f;break;default:throw Error(E(b.INVALID_STORED_DATA,[e,t]))}0===e.indexOf("Sent:"+this._localKey)?(i.payloadMessage.duplicate=!0,this._sentMessages[i.messageIdentifier]=i):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[i.messageIdentifier]=i)},L.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},L.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===o&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},L.prototype._on_socket_open=function(){var e=new I(r,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},L.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},L.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var i=0;i<t.length;){var o=T(t,i),s=o[0];if(i=o[1],null===s)break;n.push(s)}i<t.length&&(this.receiveBuffer=t.subarray(i))}catch(c){var a="undefined"==c.hasOwnProperty("stack")?c.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,E(b.INTERNAL_ERROR,[c.message,a]))}return n},L.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case i:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var r=this._sentMessages[t];n.removeItem("Sent:"+this._localKey+r.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var l=this._receivedMessages[t];n.removeItem("Received:"+this._localKey+l.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(b.CONNACK_RETURNCODE.code,E(b.CONNACK_RETURNCODE,[e.returnCode,m[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var p=[];for(var d in this._sentMessages)this._sentMessages.hasOwnProperty(d)&&p.push(this._sentMessages[d]);if(this._buffered_msg_queue.length>0)for(var g=null;g=this._buffered_msg_queue.pop();)p.push(g),this.onMessageDelivered&&(this._notify_msg_sent[g]=this.onMessageDelivered(g.payloadMessage));p=p.sort((function(e,t){return e.sequence-t.sequence}));for(var _=0,w=p.length;_<w;_++)if((r=p[_]).type==o&&r.pubRecReceived){var O=new I(c,{messageIdentifier:r.messageIdentifier});this._schedule_message(O)}else this._schedule_message(r);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var T=!1;this._reconnecting&&(T=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(T,this._wsuri),this._process_queue();break;case o:this._receivePublish(e);break;case s:(r=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage));break;case a:(r=this._sentMessages[e.messageIdentifier])&&(r.pubRecReceived=!0,O=new I(c,{messageIdentifier:e.messageIdentifier}),this.store("Sent:",r),this._schedule_message(O));break;case c:l=this._receivedMessages[e.messageIdentifier],n.removeItem("Received:"+this._localKey+e.messageIdentifier),l&&(this._receiveMessage(l),delete this._receivedMessages[e.messageIdentifier]);var S=new I(u,{messageIdentifier:e.messageIdentifier});this._schedule_message(S);break;case u:r=this._sentMessages[e.messageIdentifier],delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage);break;case f:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),128===e.returnCode[0]?r.onFailure&&r.onFailure(e.returnCode):r.onSuccess&&r.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case h:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),r.callback&&r.callback(),delete this._sentMessages[e.messageIdentifier]);break;case v:this.sendPinger.reset();break;case y:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,E(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]));break;default:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,E(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(N){var A="undefined"==N.hasOwnProperty("stack")?N.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,E(b.INTERNAL_ERROR,[N.message,A]))}},L.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(b.SOCKET_ERROR.code,E(b.SOCKET_ERROR,[e.data]))},L.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(b.SOCKET_CLOSE.code,E(b.SOCKET_CLOSE))},L.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},L.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new I(s,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new I(a,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},L.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},L.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},L.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},L.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new P(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=b.OK.code,t=E(b.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==b.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},L.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t||void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},L.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?"******":e[r]);return n};var D=function(e){var t,n;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw E(b.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var r=0,i=!1,o=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:R(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(k(t)),n=new Uint8Array(e);return C(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!=typeof e)throw new Error(E(b.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);r=e}},retained:{enumerable:!0,get:function(){return i},set:function(e){if("boolean"!=typeof e)throw new Error(E(b.INVALID_ARGUMENT,[e,"newRetained"]));i=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return o},set:function(e){o=e}}})};return{Client:function(e,t,n,r){var i;if("string"!=typeof e)throw new Error(E(b.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){r=t;var o=(i=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!o)throw new Error(E(b.INVALID_ARGUMENT,[e,"host"]));e=o[4]||o[2],t=parseInt(o[7]),n=o[8]}else{if(3==arguments.length&&(r=n,n="/mqtt"),"number"!=typeof t||t<0)throw new Error(E(b.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof n)throw new Error(E(b.INVALID_TYPE,[typeof n,"path"]));var s=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);i="ws://"+(s?"["+e+"]":e)+":"+t+n}for(var a=0,c=0;c<r.length;c++){var u=r.charCodeAt(c);55296<=u&&u<=56319&&c++,a++}if("string"!=typeof r||a>65535)throw new Error(E(b.INVALID_ARGUMENT,[r,"clientId"]));var l=new L(i,e,t,n,r);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(E(b.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(E(b.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(E(b.UNSUPPORTED_OPERATION))}},uri:{get:function(){return i},set:function(){throw new Error(E(b.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return l.clientId},set:function(){throw new Error(E(b.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return l.onConnected},set:function(e){if("function"!=typeof e)throw new Error(E(b.INVALID_TYPE,[typeof e,"onConnected"]));l.onConnected=e}},disconnectedPublishing:{get:function(){return l.disconnectedPublishing},set:function(e){l.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return l.disconnectedBufferSize},set:function(e){l.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return l.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(E(b.INVALID_TYPE,[typeof e,"onConnectionLost"]));l.onConnectionLost=e}},onMessageDelivered:{get:function(){return l.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(E(b.INVALID_TYPE,[typeof e,"onMessageDelivered"]));l.onMessageDelivered=e}},onMessageArrived:{get:function(){return l.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(E(b.INVALID_TYPE,[typeof e,"onMessageArrived"]));l.onMessageArrived=e}},trace:{get:function(){return l.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(E(b.INVALID_TYPE,[typeof e,"onTrace"]));l.traceFunction=e}}}),this.connect=function(e){if(g(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(E(b.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(E(b.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof D))throw new Error(E(b.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(E(b.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(E(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(E(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,r=0;r<e.hosts.length;r++){if("string"!=typeof e.hosts[r])throw new Error(E(b.INVALID_TYPE,[typeof e.hosts[r],"connectOptions.hosts["+r+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[r])){if(0===r)t=!0;else if(!t)throw new Error(E(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}else if(t)throw new Error(E(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(E(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(E(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(E(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],r=0;r<e.hosts.length;r++){if("number"!=typeof e.ports[r]||e.ports[r]<0)throw new Error(E(b.INVALID_TYPE,[typeof e.ports[r],"connectOptions.ports["+r+"]"]));var o=e.hosts[r],s=e.ports[r],a=-1!==o.indexOf(":");i="ws://"+(a?"["+o+"]":o)+":"+s+n,e.uris.push(i)}}}l.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(g(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(E(b.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));l.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(g(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");l.unsubscribe(e,t)},this.send=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof D)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(E(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));l.send(i)}else(i=new D(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),l.send(i)},this.publish=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof D)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(E(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));l.send(i)}else(i=new D(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),l.send(i)},this.disconnect=function(){l.disconnect()},this.getTraceLog=function(){return l.getTraceLog()},this.startTrace=function(){l.startTrace()},this.stopTrace=function(){l.stopTrace()},this.isConnected=function(){return l.connected}},Message:D}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},e.exports=n()}).call(this,n("yLpj"))},VHNH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("sjhW");!function(e){e.CONNECTION_CLOSED="Connection closed",e.TIMEOUT_DISCONNECT="Timeout disconnect",e.SUBSCRIPTION_ACK="Subscription ack"}(r||(r={})),t.b=i.a},awqx:function(e,t,n){"use strict";function r(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function i(e,t){var n=e.locationOffset.column-1,r=o(n)+e.body,i=t.line-1,s=e.locationOffset.line-1,a=t.line+s,c=1===t.line?n:0,u=t.column+c,l=r.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(a,":").concat(u,")\n")+function(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=0,r=!0,i=!1,s=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value[0];n=Math.max(n,u.length)}}catch(l){i=!0,s=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw s}}return t.map((function(e){var t,r=e[0],i=e[1];return o(n-(t=r).length)+t+i})).join("\n")}([["".concat(a-1,": "),l[i-1]],["".concat(a,": "),l[i]],["",o(u-1)+"^"],["".concat(a+1,": "),l[i+1]]])}function o(e){return Array(e+1).join(" ")}function s(e,t,n,i,o,a,c){var u=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,l=n;if(!l&&u){var f=u[0];l=f&&f.loc&&f.loc.source}var p,h=i;!h&&u&&(h=u.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),h&&0===h.length&&(h=void 0),i&&n?p=i.map((function(e){return r(n,e)})):u&&(p=u.reduce((function(e,t){return t.loc&&e.push(r(t.loc.source,t.loc.start)),e}),[]));var d=c||a&&a.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:p||void 0,enumerable:Boolean(p)},path:{value:o||void 0,enumerable:Boolean(o)},nodes:{value:u||void 0},source:{value:l||void 0},positions:{value:h||void 0},originalError:{value:a},extensions:{value:d||void 0,enumerable:Boolean(d)}}),a&&a.stack?Object.defineProperty(this,"stack",{value:a.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}n.d(t,"b",(function(){return ze})),n.d(t,"a",(function(){return Xe})),s.prototype=Object.create(Error.prototype,{constructor:{value:s},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=[];if(e.nodes){var n=!0,o=!1,s=void 0;try{for(var a,c=e.nodes[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var u=a.value;u.loc&&t.push(i(u.loc.source,r(u.loc.source,u.loc.start)))}}catch(g){o=!0,s=g}finally{try{n||null==c.return||c.return()}finally{if(o)throw s}}}else if(e.source&&e.locations){var l=e.source,f=!0,p=!1,h=void 0;try{for(var d,v=e.locations[Symbol.iterator]();!(f=(d=v.next()).done);f=!0){var y=d.value;t.push(i(l,y))}}catch(g){p=!0,h=g}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}(this)}}});var a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},c={};function u(e){return Boolean(e&&"string"==typeof e.kind)}function l(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}function f(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=void 0,i=Array.isArray(e),o=[e],s=-1,f=[],p=void 0,h=void 0,d=void 0,v=[],y=[],g=e;do{var _=++s===o.length,b=_&&0!==f.length;if(_){if(h=0===y.length?void 0:v[v.length-1],p=d,d=y.pop(),b){if(i)p=p.slice();else{var m={};for(var E in p)p.hasOwnProperty(E)&&(m[E]=p[E]);p=m}for(var w=0,O=0;O<f.length;O++){var I=f[O][0],T=f[O][1];i&&(I-=w),i&&null===T?(p.splice(I,1),w++):p[I]=T}}s=r.index,o=r.keys,f=r.edits,i=r.inArray,r=r.prev}else{if(h=d?i?s:o[s]:void 0,null==(p=d?d[h]:g))continue;d&&v.push(h)}var S=void 0;if(!Array.isArray(p)){if(!u(p))throw new Error("Invalid AST Node: "+JSON.stringify(p));var A=l(t,p.kind,_);if(A){if((S=A.call(t,p,h,d,v,y))===c)break;if(!1===S){if(!_){v.pop();continue}}else if(void 0!==S&&(f.push([h,S]),!_)){if(!u(S)){v.pop();continue}p=S}}}void 0===S&&b&&f.push([h,p]),_?v.pop():(r={inArray:i,index:s,keys:o,edits:f,prev:r},o=(i=Array.isArray(p))?p:n[p.kind]||[],s=-1,f=[],d&&y.push(d),d=p)}while(void 0!==r);return 0!==f.length&&(g=f[f.length-1][1]),g}(e,{leave:p})}var p={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return d(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=y("(",d(e.variableDefinitions,", "),")"),i=d(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?d([t,d([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+y(" = ",r)+y(" ",d(i," "))},SelectionSet:function(e){return v(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return d([y("",t,": ")+n+y("(",d(r,", "),")"),d(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+y(" ",d(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return d(["...",y("on ",t),d(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(y("(",d(r,", "),")")," ")+"on ".concat(n," ").concat(y("",d(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?'"""\n'.concat(t?n:g(n),'\n"""'):'"""'.concat(n.replace(/"$/,'"\n'),'"""')}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+d(e.values,", ")+"]"},ObjectValue:function(e){return"{"+d(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+y("(",d(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return d(["schema",d(t," "),v(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:h((function(e){return d(["scalar",e.name,d(e.directives," ")]," ")})),ObjectTypeDefinition:h((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return d(["type",t,y("implements ",d(n," & ")),d(r," "),v(i)]," ")})),FieldDefinition:h((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(n.every((function(e){return-1===e.indexOf("\n")}))?y("(",d(n,", "),")"):y("(\n",g(d(n,"\n")),"\n)"))+": "+r+y(" ",d(i," "))})),InputValueDefinition:h((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return d([t+": "+n,y("= ",r),d(i," ")]," ")})),InterfaceTypeDefinition:h((function(e){var t=e.name,n=e.directives,r=e.fields;return d(["interface",t,d(n," "),v(r)]," ")})),UnionTypeDefinition:h((function(e){var t=e.name,n=e.directives,r=e.types;return d(["union",t,d(n," "),r&&0!==r.length?"= "+d(r," | "):""]," ")})),EnumTypeDefinition:h((function(e){var t=e.name,n=e.directives,r=e.values;return d(["enum",t,d(n," "),v(r)]," ")})),EnumValueDefinition:h((function(e){return d([e.name,d(e.directives," ")]," ")})),InputObjectTypeDefinition:h((function(e){var t=e.name,n=e.directives,r=e.fields;return d(["input",t,d(n," "),v(r)]," ")})),DirectiveDefinition:h((function(e){var t=e.name,n=e.arguments,r=e.locations;return"directive @"+t+(n.every((function(e){return-1===e.indexOf("\n")}))?y("(",d(n,", "),")"):y("(\n",g(d(n,"\n")),"\n)"))+" on "+d(r," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return d(["extend schema",d(t," "),v(n)]," ")},ScalarTypeExtension:function(e){return d(["extend scalar",e.name,d(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return d(["extend type",t,y("implements ",d(n," & ")),d(r," "),v(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return d(["extend interface",t,d(n," "),v(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return d(["extend union",t,d(n," "),r&&0!==r.length?"= "+d(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return d(["extend enum",t,d(n," "),v(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return d(["extend input",t,d(n," "),v(r)]," ")}};function h(e){return function(t){return d([t.description,e(t)],"\n")}}function d(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function v(e){return e&&0!==e.length?"{\n"+g(d(e,"\n"))+"\n}":""}function y(e,t,n){return t?e+t+(n||""):""}function g(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return e&&"object"===_(e)?"function"==typeof e.inspect?e.inspect():Array.isArray(e)?"["+e.map(b).join(", ")+"]":"{"+Object.keys(e).map((function(t){return"".concat(t,": ").concat(b(e[t]))})).join(", ")+"}":"string"==typeof e?'"'+e+'"':"function"==typeof e?"[function ".concat(e.name,"]"):String(e)}function m(e,t){if(!e)throw new Error(t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,O=function(e,t,n){E(this,"body",void 0),E(this,"name",void 0),E(this,"locationOffset",void 0),this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||m(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||m(0,"column in locationOffset is 1-indexed and must be positive")};function I(e,t,n){return new s("Syntax Error: ".concat(n),void 0,e,[t])}function T(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,r=1;r<t.length;r++){var i=t[r],o=S(i);if(o<i.length&&(null===n||o<n)&&0===(n=o))break}if(n)for(var s=1;s<t.length;s++)t[s]=t[s].slice(n);for(;t.length>0&&A(t[0]);)t.shift();for(;t.length>0&&A(t[t.length-1]);)t.pop();return t.join("\n")}function S(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function A(e){return S(e)===e.length}function N(e,t){var n=new D(R.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:k,lookahead:C}}function k(){return this.lastToken=this.token,this.token=this.lookahead()}function C(){var e=this.token;if(e.kind!==R.EOF)do{e=e.next||(e.next=j(this,e))}while(e.kind===R.COMMENT);return e}w=O,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}});var R=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function M(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}var P=String.prototype.charCodeAt,L=String.prototype.slice;function D(e,t,n,r,i,o,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}function x(e){return isNaN(e)?R.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function j(e,t){var n=e.source,r=n.body,i=r.length,o=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=P.call(e,i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===P.call(e,i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),s=e.line,a=1+o-e.lineStart;if(o>=i)return new D(R.EOF,i,i,s,a,t);var c=P.call(r,o);switch(c){case 33:return new D(R.BANG,o,o+1,s,a,t);case 35:return function(e,t,n,r,i){var o,s=e.body,a=t;do{o=P.call(s,++a)}while(null!==o&&(o>31||9===o));return new D(R.COMMENT,t,a,n,r,i,L.call(s,t+1,a))}(n,o,s,a,t);case 36:return new D(R.DOLLAR,o,o+1,s,a,t);case 38:return new D(R.AMP,o,o+1,s,a,t);case 40:return new D(R.PAREN_L,o,o+1,s,a,t);case 41:return new D(R.PAREN_R,o,o+1,s,a,t);case 46:if(46===P.call(r,o+1)&&46===P.call(r,o+2))return new D(R.SPREAD,o,o+3,s,a,t);break;case 58:return new D(R.COLON,o,o+1,s,a,t);case 61:return new D(R.EQUALS,o,o+1,s,a,t);case 64:return new D(R.AT,o,o+1,s,a,t);case 91:return new D(R.BRACKET_L,o,o+1,s,a,t);case 93:return new D(R.BRACKET_R,o,o+1,s,a,t);case 123:return new D(R.BRACE_L,o,o+1,s,a,t);case 124:return new D(R.PIPE,o,o+1,s,a,t);case 125:return new D(R.BRACE_R,o,o+1,s,a,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var o=e.body,s=o.length,a=t+1,c=0;for(;a!==s&&null!==(c=P.call(o,a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new D(R.NAME,t,a,n,r,i,L.call(o,t,a))}(n,o,s,a,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var s=e.body,a=n,c=t,u=!1;45===a&&(a=P.call(s,++c));if(48===a){if((a=P.call(s,++c))>=48&&a<=57)throw I(e,c,"Invalid number, unexpected digit after 0: ".concat(x(a),"."))}else c=U(e,c,a),a=P.call(s,c);46===a&&(u=!0,a=P.call(s,++c),c=U(e,c,a),a=P.call(s,c));69!==a&&101!==a||(u=!0,43!==(a=P.call(s,++c))&&45!==a||(a=P.call(s,++c)),c=U(e,c,a));return new D(u?R.FLOAT:R.INT,t,c,r,i,o,L.call(s,t,c))}(n,o,c,s,a,t);case 34:return 34===P.call(r,o+1)&&34===P.call(r,o+2)?function(e,t,n,r,i){var o=e.body,s=t+3,a=s,c=0,u="";for(;s<o.length&&null!==(c=P.call(o,s));){if(34===c&&34===P.call(o,s+1)&&34===P.call(o,s+2))return u+=L.call(o,a,s),new D(R.BLOCK_STRING,t,s+3,n,r,i,T(u));if(c<32&&9!==c&&10!==c&&13!==c)throw I(e,s,"Invalid character within String: ".concat(x(c),"."));92===c&&34===P.call(o,s+1)&&34===P.call(o,s+2)&&34===P.call(o,s+3)?(u+=L.call(o,a,s)+'"""',a=s+=4):++s}throw I(e,s,"Unterminated string.")}(n,o,s,a,t):function(e,t,n,r,i){var o=e.body,s=t+1,a=s,c=0,u="";for(;s<o.length&&null!==(c=P.call(o,s))&&10!==c&&13!==c;){if(34===c)return u+=L.call(o,a,s),new D(R.STRING,t,s+1,n,r,i,u);if(c<32&&9!==c)throw I(e,s,"Invalid character within String: ".concat(x(c),"."));if(++s,92===c){switch(u+=L.call(o,a,s-1),c=P.call(o,s)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=(f=P.call(o,s+1),p=P.call(o,s+2),h=P.call(o,s+3),d=P.call(o,s+4),q(f)<<12|q(p)<<8|q(h)<<4|q(d));if(l<0)throw I(e,s,"Invalid character escape sequence: "+"\\u".concat(o.slice(s+1,s+5),"."));u+=String.fromCharCode(l),s+=4;break;default:throw I(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++s,a=s}}var f,p,h,d;throw I(e,s,"Unterminated string.")}(n,o,s,a,t)}throw I(n,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(x(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(x(e),".")}(c))}function U(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=P.call(r,++i)}while(o>=48&&o<=57);return i}throw I(e,i,"Invalid number, expected digit but got: ".concat(x(o),"."))}function q(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}D.prototype.toJSON=D.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}};var B=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),F=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function V(e,t){var n="string"==typeof e?new O(e):e;if(!(n instanceof O))throw new TypeError("Must provide Source. Received: ".concat(b(n)));return function(e){var t=e.token;return{kind:B.DOCUMENT,definitions:Le(e,R.SOF,K,R.EOF),loc:Se(e,t)}}(N(n,t||{}))}function G(e){var t=Ce(e,R.NAME);return{kind:B.NAME,value:t.value,loc:Se(e,t)}}function K(e){if(Ne(e,R.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return Q(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return pe(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===R.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Re(e,"extend"),Re(e,"schema");var n=ce(e,!0),r=Ne(e,R.BRACE_L)?Le(e,R.BRACE_L,ve,R.BRACE_R):[];if(0===n.length&&0===r.length)throw Me(e);return{kind:B.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:Se(e,t)}}(e);case"scalar":return function(e){var t=e.token;Re(e,"extend"),Re(e,"scalar");var n=G(e),r=ce(e,!0);if(0===r.length)throw Me(e);return{kind:B.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:Se(e,t)}}(e);case"type":return function(e){var t=e.token;Re(e,"extend"),Re(e,"type");var n=G(e),r=ye(e),i=ce(e,!0),o=ge(e);if(0===r.length&&0===i.length&&0===o.length)throw Me(e);return{kind:B.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o,loc:Se(e,t)}}(e);case"interface":return function(e){var t=e.token;Re(e,"extend"),Re(e,"interface");var n=G(e),r=ce(e,!0),i=ge(e);if(0===r.length&&0===i.length)throw Me(e);return{kind:B.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:Se(e,t)}}(e);case"union":return function(e){var t=e.token;Re(e,"extend"),Re(e,"union");var n=G(e),r=ce(e,!0),i=Ee(e);if(0===r.length&&0===i.length)throw Me(e);return{kind:B.UNION_TYPE_EXTENSION,name:n,directives:r,types:i,loc:Se(e,t)}}(e);case"enum":return function(e){var t=e.token;Re(e,"extend"),Re(e,"enum");var n=G(e),r=ce(e,!0),i=we(e);if(0===r.length&&0===i.length)throw Me(e);return{kind:B.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i,loc:Se(e,t)}}(e);case"input":return function(e){var t=e.token;Re(e,"extend"),Re(e,"input");var n=G(e),r=ce(e,!0),i=Ie(e);if(0===r.length&&0===i.length)throw Me(e);return{kind:B.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:Se(e,t)}}(e)}throw Me(e,t)}(e)}else{if(Ne(e,R.BRACE_L))return Q(e);if(he(e))return pe(e)}throw Me(e)}function Q(e){if(Ne(e,R.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return Y(e);case"fragment":return function(e){var t=e.token;if(Re(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:B.FRAGMENT_DEFINITION,name:ne(e),variableDefinitions:H(e),typeCondition:(Re(e,"on"),fe(e)),directives:ce(e,!1),selectionSet:X(e),loc:Se(e,t)};return{kind:B.FRAGMENT_DEFINITION,name:ne(e),typeCondition:(Re(e,"on"),fe(e)),directives:ce(e,!1),selectionSet:X(e),loc:Se(e,t)}}(e)}else if(Ne(e,R.BRACE_L))return Y(e);throw Me(e)}function Y(e){var t=e.token;if(Ne(e,R.BRACE_L))return{kind:B.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:X(e),loc:Se(e,t)};var n,r=J(e);return Ne(e,R.NAME)&&(n=G(e)),{kind:B.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:H(e),directives:ce(e,!1),selectionSet:X(e),loc:Se(e,t)}}function J(e){var t=Ce(e,R.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Me(e,t)}function H(e){return Ne(e,R.PAREN_L)?Le(e,R.PAREN_L,W,R.PAREN_R):[]}function W(e){var t=e.token;return e.options.experimentalVariableDefinitionDirectives?{kind:B.VARIABLE_DEFINITION,variable:z(e),type:(Ce(e,R.COLON),le(e)),defaultValue:ke(e,R.EQUALS)?re(e,!0):void 0,directives:ce(e,!0),loc:Se(e,t)}:{kind:B.VARIABLE_DEFINITION,variable:z(e),type:(Ce(e,R.COLON),le(e)),defaultValue:ke(e,R.EQUALS)?re(e,!0):void 0,loc:Se(e,t)}}function z(e){var t=e.token;return Ce(e,R.DOLLAR),{kind:B.VARIABLE,name:G(e),loc:Se(e,t)}}function X(e){var t=e.token;return{kind:B.SELECTION_SET,selections:Le(e,R.BRACE_L,Z,R.BRACE_R),loc:Se(e,t)}}function Z(e){return Ne(e,R.SPREAD)?function(e){var t,n=e.token;if(Ce(e,R.SPREAD),Ne(e,R.NAME)&&"on"!==e.token.value)return{kind:B.FRAGMENT_SPREAD,name:ne(e),directives:ce(e,!1),loc:Se(e,n)};"on"===e.token.value&&(e.advance(),t=fe(e));return{kind:B.INLINE_FRAGMENT,typeCondition:t,directives:ce(e,!1),selectionSet:X(e),loc:Se(e,n)}}(e):function(e){var t,n,r=e.token,i=G(e);ke(e,R.COLON)?(t=i,n=G(e)):n=i;return{kind:B.FIELD,alias:t,name:n,arguments:$(e,!1),directives:ce(e,!1),selectionSet:Ne(e,R.BRACE_L)?X(e):void 0,loc:Se(e,r)}}(e)}function $(e,t){var n=t?te:ee;return Ne(e,R.PAREN_L)?Le(e,R.PAREN_L,n,R.PAREN_R):[]}function ee(e){var t=e.token;return{kind:B.ARGUMENT,name:G(e),value:(Ce(e,R.COLON),re(e,!1)),loc:Se(e,t)}}function te(e){var t=e.token;return{kind:B.ARGUMENT,name:G(e),value:(Ce(e,R.COLON),oe(e)),loc:Se(e,t)}}function ne(e){if("on"===e.token.value)throw Me(e);return G(e)}function re(e,t){var n=e.token;switch(n.kind){case R.BRACKET_L:return function(e,t){var n=e.token,r=t?oe:se;return{kind:B.LIST,values:Pe(e,R.BRACKET_L,r,R.BRACKET_R),loc:Se(e,n)}}(e,t);case R.BRACE_L:return function(e,t){var n=e.token;Ce(e,R.BRACE_L);var r=[];for(;!ke(e,R.BRACE_R);)r.push(ae(e,t));return{kind:B.OBJECT,fields:r,loc:Se(e,n)}}(e,t);case R.INT:return e.advance(),{kind:B.INT,value:n.value,loc:Se(e,n)};case R.FLOAT:return e.advance(),{kind:B.FLOAT,value:n.value,loc:Se(e,n)};case R.STRING:case R.BLOCK_STRING:return ie(e);case R.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:B.BOOLEAN,value:"true"===n.value,loc:Se(e,n)}):"null"===n.value?(e.advance(),{kind:B.NULL,loc:Se(e,n)}):(e.advance(),{kind:B.ENUM,value:n.value,loc:Se(e,n)});case R.DOLLAR:if(!t)return z(e)}throw Me(e)}function ie(e){var t=e.token;return e.advance(),{kind:B.STRING,value:t.value,block:t.kind===R.BLOCK_STRING,loc:Se(e,t)}}function oe(e){return re(e,!0)}function se(e){return re(e,!1)}function ae(e,t){var n=e.token;return{kind:B.OBJECT_FIELD,name:G(e),value:(Ce(e,R.COLON),re(e,t)),loc:Se(e,n)}}function ce(e,t){for(var n=[];Ne(e,R.AT);)n.push(ue(e,t));return n}function ue(e,t){var n=e.token;return Ce(e,R.AT),{kind:B.DIRECTIVE,name:G(e),arguments:$(e,t),loc:Se(e,n)}}function le(e){var t,n=e.token;return ke(e,R.BRACKET_L)?(t=le(e),Ce(e,R.BRACKET_R),t={kind:B.LIST_TYPE,type:t,loc:Se(e,n)}):t=fe(e),ke(e,R.BANG)?{kind:B.NON_NULL_TYPE,type:t,loc:Se(e,n)}:t}function fe(e){var t=e.token;return{kind:B.NAMED_TYPE,name:G(e),loc:Se(e,t)}}function pe(e){var t=he(e)?e.lookahead():e.token;if(t.kind===R.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Re(e,"schema");var n=ce(e,!0),r=Le(e,R.BRACE_L,ve,R.BRACE_R);return{kind:B.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:Se(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=de(e);Re(e,"scalar");var r=G(e),i=ce(e,!0);return{kind:B.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i,loc:Se(e,t)}}(e);case"type":return function(e){var t=e.token,n=de(e);Re(e,"type");var r=G(e),i=ye(e),o=ce(e,!0),s=ge(e);return{kind:B.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s,loc:Se(e,t)}}(e);case"interface":return function(e){var t=e.token,n=de(e);Re(e,"interface");var r=G(e),i=ce(e,!0),o=ge(e);return{kind:B.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:Se(e,t)}}(e);case"union":return function(e){var t=e.token,n=de(e);Re(e,"union");var r=G(e),i=ce(e,!0),o=Ee(e);return{kind:B.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o,loc:Se(e,t)}}(e);case"enum":return function(e){var t=e.token,n=de(e);Re(e,"enum");var r=G(e),i=ce(e,!0),o=we(e);return{kind:B.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o,loc:Se(e,t)}}(e);case"input":return function(e){var t=e.token,n=de(e);Re(e,"input");var r=G(e),i=ce(e,!0),o=Ie(e);return{kind:B.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:Se(e,t)}}(e);case"directive":return function(e){var t=e.token,n=de(e);Re(e,"directive"),Ce(e,R.AT);var r=G(e),i=be(e);Re(e,"on");var o=function(e){ke(e,R.PIPE);var t=[];do{t.push(Te(e))}while(ke(e,R.PIPE));return t}(e);return{kind:B.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,locations:o,loc:Se(e,t)}}(e)}throw Me(e,t)}function he(e){return Ne(e,R.STRING)||Ne(e,R.BLOCK_STRING)}function de(e){if(he(e))return ie(e)}function ve(e){var t=e.token,n=J(e);Ce(e,R.COLON);var r=fe(e);return{kind:B.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:Se(e,t)}}function ye(e){var t=[];if("implements"===e.token.value){e.advance(),ke(e,R.AMP);do{t.push(fe(e))}while(ke(e,R.AMP)||e.options.allowLegacySDLImplementsInterfaces&&Ne(e,R.NAME))}return t}function ge(e){return e.options.allowLegacySDLEmptyFields&&Ne(e,R.BRACE_L)&&e.lookahead().kind===R.BRACE_R?(e.advance(),e.advance(),[]):Ne(e,R.BRACE_L)?Le(e,R.BRACE_L,_e,R.BRACE_R):[]}function _e(e){var t=e.token,n=de(e),r=G(e),i=be(e);Ce(e,R.COLON);var o=le(e),s=ce(e,!0);return{kind:B.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s,loc:Se(e,t)}}function be(e){return Ne(e,R.PAREN_L)?Le(e,R.PAREN_L,me,R.PAREN_R):[]}function me(e){var t=e.token,n=de(e),r=G(e);Ce(e,R.COLON);var i,o=le(e);ke(e,R.EQUALS)&&(i=oe(e));var s=ce(e,!0);return{kind:B.INPUT_VALUE_DEFINITION,description:n,name:r,type:o,defaultValue:i,directives:s,loc:Se(e,t)}}function Ee(e){var t=[];if(ke(e,R.EQUALS)){ke(e,R.PIPE);do{t.push(fe(e))}while(ke(e,R.PIPE))}return t}function we(e){return Ne(e,R.BRACE_L)?Le(e,R.BRACE_L,Oe,R.BRACE_R):[]}function Oe(e){var t=e.token,n=de(e),r=G(e),i=ce(e,!0);return{kind:B.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i,loc:Se(e,t)}}function Ie(e){return Ne(e,R.BRACE_L)?Le(e,R.BRACE_L,me,R.BRACE_R):[]}function Te(e){var t=e.token,n=G(e);if(F.hasOwnProperty(n.value))return n;throw Me(e,t)}function Se(e,t){if(!e.options.noLocation)return new Ae(t,e.lastToken,e.source)}function Ae(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Ne(e,t){return e.token.kind===t}function ke(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function Ce(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw I(e.source,n.start,"Expected ".concat(t,", found ").concat(M(n)))}function Re(e,t){var n=e.token;if(n.kind===R.NAME&&n.value===t)return e.advance(),n;throw I(e.source,n.start,'Expected "'.concat(t,'", found ').concat(M(n)))}function Me(e,t){var n=t||e.token;return I(e.source,n.start,"Unexpected ".concat(M(n)))}function Pe(e,t,n,r){Ce(e,t);for(var i=[];!ke(e,r);)i.push(n(e));return i}function Le(e,t,n,r){Ce(e,t);for(var i=[n(e)];!ke(e,r);)i.push(n(e));return i}Ae.prototype.toJSON=Ae.prototype.inspect=function(){return{start:this.start,end:this.end}};var De=n("Nt7R"),xe=n("R10A"),je=n("GOuw"),Ue=n("CexW"),qe=n("fQM2"),Be=n("VHNH"),Fe=n("AO/9"),Ve=n("gr/K"),Ge=n("A40W"),Ke=function(){return(Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},Ye=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Je=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},He=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},We=new De.a("GraphQLAPI"),ze=function(e,t){return void 0===t&&(t={}),{query:e,variables:t}},Xe=function(){function e(e){this._api=null,this.Auth=Fe.a,this.Cache=Ve.a,this.Credentials=xe.a,this._options=e,We.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=Je(t,["API"]),o=Ke(Ke({},i),r);return We.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),void 0!==o.graphql_headers&&"function"!=typeof o.graphql_headers&&(We.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return We.debug("create Rest instance"),this._options?(this._api=new Ge.a(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e){return Qe(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c;return Ye(this,(function(u){switch(u.label){case 0:switch(t=this._options,n=t.aws_appsync_authenticationType,r=t.aws_appsync_apiKey,i={},e||n||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,9]}return[3,11];case 1:if(!r)throw new Error("No api-key configured");return i={Authorization:null,"X-Api-Key":r},[3,12];case 2:return[4,this._ensureCredentials()];case 3:if(!u.sent())throw new Error("No credentials");return[3,12];case 4:return o=void 0,[4,Ve.a.getItem("federatedInfo")];case 5:return(s=u.sent())?(o=s.token,[3,8]):[3,6];case 6:return[4,Fe.a.currentAuthenticatedUser()];case 7:(a=u.sent())&&(o=a.token),u.label=8;case 8:if(!o)throw new Error("No federated jwt");return i={Authorization:o},[3,12];case 9:return[4,this.Auth.currentSession()];case 10:return c=u.sent(),i={Authorization:c.getAccessToken().getJwtToken()},[3,12];case 11:return i={Authorization:null},[3,12];case 12:return[2,i]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=V(e);return He(t.definitions,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.authMode,s=V("string"==typeof n?n:f(n)),a=He(s.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],c=(void 0===a?{}:a).operation;switch(c){case"query":case"mutation":var u=this._api.getCancellableToken(),l={cancellableToken:u},p=this._graphql({query:s,variables:i,authMode:o},t,l);return this._api.updateRequestToBeCancellable(p,u),p;case"subscription":return this._graphqlSubscribe({query:s,variables:i,authMode:o},t)}throw new Error("invalid operation type: "+c)},e.prototype._graphql=function(e,t,n){var r=e.query,i=e.variables,o=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),Qe(this,void 0,void 0,(function(){var e,a,c,u,l,p,h,d,v,y,g,_,b,m,E,w,O,I,T,S,A;return Ye(this,(function(N){switch(N.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:N.sent(),N.label=2;case 2:return e=this._options,a=e.aws_appsync_region,c=e.aws_appsync_graphqlEndpoint,u=e.graphql_headers,l=void 0===u?function(){return{}}:u,p=e.graphql_endpoint,h=e.graphql_endpoint_iam_region,v=[{}],(y=!p)?[4,this._headerBasedAuth(o)]:[3,4];case 3:y=N.sent(),N.label=4;case 4:return g=[Ke.apply(void 0,v.concat([y]))],(_=p)?h?[4,this._headerBasedAuth(o)]:[3,6]:[3,8];case 5:return b=N.sent(),[3,7];case 6:b={Authorization:null},N.label=7;case 7:_=b,N.label=8;case 8:return m=[Ke.apply(void 0,g.concat([_]))],[4,l({query:r,variables:i})];case 9:if(d=Ke.apply(void 0,[Ke.apply(void 0,[Ke.apply(void 0,m.concat([N.sent()])),t]),!p&&(A={},A["x-amz-user-agent"]=je.a.userAgent,A)]),E={query:f(r),variables:i},w=Object.assign({headers:d,body:E,signerServiceInfo:{service:p?"execute-api":"appsync",region:p?h:a}},n),!(O=p||c))throw{data:{},errors:[new s("No graphql endpoint provided.")]};N.label=10;case 10:return N.trys.push([10,12,,13]),[4,this._api.post(O,w)];case 11:return I=N.sent(),[3,13];case 12:if(T=N.sent(),this._api.isCancel(T))throw T;return I={data:{},errors:[new s(T.message,null,null,null,null,T)]},[3,13];case 13:if((S=I.errors)&&S.length)throw I;return[2,I]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,i=e.authMode;void 0===t&&(t={});var o=this._options,s=o.aws_appsync_region,a=o.aws_appsync_graphqlEndpoint,c=o.aws_appsync_authenticationType,u=o.aws_appsync_apiKey,l=o.graphql_headers,p=void 0===l?function(){return{}}:l,h=i||c||"AWS_IAM";if(Be.b&&"function"==typeof Be.b.subscribe)return Be.b.subscribe("",{provider:Ue.b,appSyncGraphqlEndpoint:a,authenticationType:h,apiKey:u,query:f(n),region:s,variables:r,graphql_headers:p,additionalHeaders:t});throw We.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return We.debug("set credentials for api",n),!0})).catch((function(e){return We.warn("ensure credentials error",e),!1}))},e}(),Ze=new Xe(null);qe.a.register(Ze)},b0dj:function(e,t,n){"use strict";var r=n("Nw+h"),i=n.n(r).a;t.a=i},bBE8:function(e,t,n){"use strict";n.r(t),n.d(t,"fromUtf8",(function(){return r})),n.d(t,"toUtf8",(function(){return i}));var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},oDCQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("v4IS"),i=n("gr/K"),o=n("A40W"),s=n("Nt7R"),a=n("R10A"),c=n("fQM2"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},h=new s.a("RestAPI"),d=function(){function e(e){this._api=null,this.Credentials=a.a,this._options=e,h.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=p(t,["API"]),o=u(u({},i),r);if(h.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var s=o.aws_cloud_logic_custom;o.endpoints="string"==typeof s?JSON.parse(s):s}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(h.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return h.debug("create Rest API instance"),this._api=new o.a(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.get(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.post(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.put(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.patch(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.del(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.head(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(a){return Promise.reject(a.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.endpoint=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var i={endpoint:r.endpoint+t};return"string"==typeof r.region?i.region=r.region:"string"==typeof this._options.region&&(i.region=this._options.region),"string"==typeof r.service?i.service=r.service||"execute-api":i.service="execute-api","function"==typeof r.custom_header?i.custom_header=r.custom_header:i.custom_header=void 0,i},e}(),v=new d(null);c.a.register(v);var y=n("awqx"),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},m=new s.a("API"),E=new(function(){function e(e){this.Auth=r.a,this.Cache=i.a,this.Credentials=a.a,this._options=e,this._restApi=new d(e),this._graphqlApi=new y.a(e),m.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return g(g({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.cancel(e,t)},e.prototype.endpoint=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}())(null);c.a.register(E)},rv4x:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var s=function(){return"function"==typeof Symbol},a=function(e){return s()&&Boolean(Symbol[e])},c=function(e){return a(e)?Symbol[e]:"@@"+e};s()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=c("iterator"),l=c("observable"),f=c("species");function p(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:O}function d(e){return e instanceof O}function v(e){v.log?v.log(e):setTimeout((function(){throw e}))}function y(e){Promise.resolve().then((function(){try{e()}catch(t){v(t)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=p(t,"unsubscribe");n&&n.call(t)}}catch(r){v(r)}}function _(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function b(e,t,n){e._state="running";var r=e._observer;try{var i=p(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(_(e),!i)throw n;i.call(r,n);break;case"complete":_(e),i&&i.call(r)}}catch(o){v(o)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function m(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void y((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(b(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void b(e,t,n);e._queue.push({type:t,value:n})}}var E=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new w(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(_(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){r(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){m(this._subscription,"next",e)}},{key:"error",value:function(e){m(this._subscription,"error",e)}},{key:"complete",value:function(){m(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),O=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new E(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(a){return n.error(a)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=p(t,l);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return d(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=p(t,u)))return new n((function(e){y((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=s.value;if(e.next(c),e.closed)return}}catch(u){i=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){y((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){y((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:f,get:function(){return this}}]),e}();t.Observable=O,s()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})},sjhW:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));var r,i=n("b0dj"),o=n("HzrR"),s=n("Nt7R"),a=n("CexW"),c=n("fQM2"),u=n("Qlnm"),l=n("EcEN"),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=new s.a("AbstractPubSubProvider"),h=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=f(f({},e),this._config),p.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return f({},this._config)},enumerable:!0,configurable:!0}),e}(),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},b=new s.a("MqttOverWSProvider");var m=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return y(this,void 0,void 0,(function(){var n;return g(this,(function(r){return(n=this.promises.get(e))||(n=t(e),this.promises.set(e,n)),[2,n]}))}))},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),E="undefined"!=typeof Symbol?Symbol("topic"):"@@topic",w=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,v(v({},t),{clientId:t.clientId||Object(l.v4)()}))||this;return n._clientsQueue=new m,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return d(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"==typeof e&&e[E]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=_(e,["clientId","errorCode"]);if(0!==r){b.warn(n,JSON.stringify(v({errorCode:r},i),null,2));var o=[],s=this._clientIdObservers.get(n);if(!s)return;s.forEach((function(e){e.error("Disconnected, error code: "+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&o.push(n)}))})),this._clientIdObservers.delete(n),o.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return y(this,void 0,void 0,(function(){var e,r=this;return g(this,(function(i){switch(i.label){case 0:return b.debug("Creating new MQTT client",n),(e=new u.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,i=_(e,["errorCode"]);r.onDisconnect(v({clientId:n,errorCode:t},i))},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})}))];case 1:return i.sent(),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),y(this,void 0,void 0,(function(){var n=this;return g(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(v(v({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return y(this,void 0,void 0,(function(){var t;return g(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e,(function(){return null}))];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return y(this,void 0,void 0,(function(){var n,r,i,o;return g(this,(function(s){switch(s.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return i=s.sent(),[4,this.connect(this.clientId,{url:i})];case 2:return o=s.sent(),b.debug("Publishing to topic(s)",n.join(","),r),n.forEach((function(e){return o.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split("/"),r=n.length,i=t.split("/"),o=0;o<r;++o){var s=n[o],a=i[o];if("#"===s)return i.length>=r;if("+"!==s&&s!==a)return!1}return r===i.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);"object"==typeof r&&(r[E]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(i){b.warn("Error handling message",i,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return b.debug("Subscribing to topic(s)",r.join(",")),new i.a((function(e){var i;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var o=t.clientId,s=void 0===o?n.clientId:o,a=n._clientIdObservers.get(s);return a||(a=new Set),a.add(e),n._clientIdObservers.set(s,a),y(n,void 0,void 0,(function(){var n,o,a,c;return g(this,(function(u){switch(u.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return a=u.sent(),[3,3];case 2:a=n,u.label=3;case 3:o=a,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.connect(s,{url:o})];case 5:return i=u.sent(),r.forEach((function(e){i.subscribe(e)})),[3,7];case 6:return c=u.sent(),e.error(c),[3,7];case 7:return[2]}}))})),function(){return b.debug("Unsubscribing from topic(s)",r.join(",")),i&&(n._clientIdObservers.get(s).delete(e),0===n._clientIdObservers.get(s).size&&(n.disconnect(s),n._clientIdObservers.delete(s)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),i.isConnected()&&i.unsubscribe(t))}))),null}}))},t}(h),O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},A=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},N=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(A(arguments[t]));return e},k=new s.a("AWSAppSyncProvider"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return O(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return I(this,void 0,void 0,(function(){return T(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return A(t,2)[1].clientId===e})).map((function(e){return A(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=S(e,["clientId","errorCode"]);0!==r&&(Array.from(this._topicClient.entries()).filter((function(e){return A(e,2)[1].clientId===n})).map((function(e){return A(e,1)[0]})).forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(i)})),t._topicObservers.delete(e))})),this._cleanUp(n))},t.prototype.disconnect=function(t){return I(this,void 0,void 0,(function(){return T(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new i.a((function(r){var i=[].concat(e);return k.debug("Subscribing to topic(s)",i.join(",")),I(n,void 0,void 0,(function(){var e,n,o,s,a,c=this;return T(this,(function(u){switch(u.label){case 0:return i.forEach((function(e){c._topicObservers.has(e)||c._topicObservers.set(e,new Set),c._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,o=t.newSubscriptions,s=Object.entries(o).map((function(e){var t=A(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(N(Array.from(this._topicAlias.entries()),s)),a=Object.entries(i.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var i=r.client,o=r.url;e[i]||(e[i]={url:o,topics:new Set}),e[i].topics.add(t)}return e}),{})),[4,Promise.all(a.map((function(e){var t=A(e,2),n=t[0],i=t[1],o=i.url,s=i.topics;return I(c,void 0,void 0,(function(){var e,t,i=this;return T(this,(function(a){switch(a.label){case 0:e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:o})];case 2:return e=a.sent(),[3,4];case 3:return t=a.sent(),r.error({message:"Failed to connect",error:t}),r.complete(),[2,void 0];case 4:return s.forEach((function(t){e.isConnected()&&(e.subscribe(t),i._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return u.sent(),[2]}}))})),function(){k.debug("Unsubscribing from topic(s)",i.join(",")),i.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return i.a.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=A(t,2),i=n[0],o=n[1];return e[r||i]=o,e}),{}),e}))},t}(w);function R(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function M(e,t){var n=e.locationOffset.column-1,r=P(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,c=t.column+a,u=r.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(s,":").concat(c,")\n")+function(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=0,r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value[0];n=Math.max(n,c.length)}}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t.map((function(e){var t,r=e[0],i=e[1];return P(n-(t=r).length)+t+i})).join("\n")}([["".concat(s-1,": "),u[i-1]],["".concat(s,": "),u[i]],["",P(c-1)+"^"],["".concat(s+1,": "),u[i+1]]])}function P(e){return Array(e+1).join(" ")}function L(e,t,n,r,i,o,s){var a=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;if(!c&&a){var u=a[0];c=u&&u.loc&&u.loc.source}var l,f=r;!f&&a&&(f=a.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),f&&0===f.length&&(f=void 0),r&&n?l=r.map((function(e){return R(n,e)})):a&&(l=a.reduce((function(e,t){return t.loc&&e.push(R(t.loc.source,t.loc.start)),e}),[]));var p=s||o&&o.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:a||void 0},source:{value:c||void 0},positions:{value:f||void 0},originalError:{value:o},extensions:{value:p||void 0,enumerable:Boolean(p)}}),o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,L):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}L.prototype=Object.create(Error.prototype,{constructor:{value:L},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=[];if(e.nodes){var n=!0,r=!1,i=void 0;try{for(var o,s=e.nodes[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;a.loc&&t.push(M(a.loc.source,R(a.loc.source,a.loc.start)))}}catch(v){r=!0,i=v}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}else if(e.source&&e.locations){var c=e.source,u=!0,l=!1,f=void 0;try{for(var p,h=e.locations[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var d=p.value;t.push(M(c,d))}}catch(v){l=!0,f=v}finally{try{u||null==h.return||h.return()}finally{if(l)throw f}}}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}(this)}}});var D,x,j,U=n("CxY0"),q=n("HDXh"),B=n("Qycn"),F=n("GOuw"),V=n("2uTk"),G=n("R10A"),K=n("vVj2"),Q=n("gr/K"),Y=n("AO/9"),J=n("VHNH"),H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},z=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},$=new s.a("AWSAppSyncRealTimeProvider"),ee="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",te=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(D||(D={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(x||(x={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(j||(j={}));var ne={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.socketStatus=j.CLOSED,t.keepAliveTimeout=3e5,t.subscriptionObserverMap=new Map,t.promiseArray=[],t}return H(t,e),t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return z(this,void 0,void 0,(function(){return X(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.subscribe=function(e,t){var n=this,r=t.appSyncGraphqlEndpoint;return new i.a((function(e){if(r){var i=Object(l.v4)();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:i}),function(){return z(n,void 0,void 0,(function(){var e,t;return X(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(i)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(i)||{}).subscriptionState))return[2];if(e!==x.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(i),[3,4];case 2:return t=n.sent(),$.debug("Error while unsubscribing "+t),[3,4];case 3:return this._removeSubscriptionObserver(i),[7];case 4:return[2]}}))}))}}e.error({errors:[W({},new L("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t=e.options,n=e.observer,r=e.subscriptionId;return z(this,void 0,void 0,(function(){var e,i,o,s,c,u,l,f,p,h,d,v,y,g,_,b,m,E,w,O,I,T,S,A,N,k,C=this;return X(this,(function(R){switch(R.label){case 0:return e=t.appSyncGraphqlEndpoint,i=t.authenticationType,o=t.query,s=t.variables,c=t.apiKey,u=t.region,l=t.graphql_headers,f=void 0===l?function(){return{}}:l,p=t.additionalHeaders,h=void 0===p?{}:p,d=x.PENDING,v={query:o,variables:s},this.subscriptionObserverMap.set(r,{observer:n,query:o,variables:s,subscriptionState:d,startAckTimeoutId:null}),y=JSON.stringify(v),_=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:i,payload:y,canonicalUri:"",region:u})];case 1:return b=[W.apply(void 0,_.concat([R.sent()]))],[4,f()];case 2:g=W.apply(void 0,[W.apply(void 0,[W.apply(void 0,b.concat([R.sent()])),h]),(k={},k[a.c]=F.a.userAgent,k)]),m={id:r,payload:{data:y,extensions:{authorization:W({},g)}},type:D.GQL_START},E=JSON.stringify(m),R.label=3;case 3:return R.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:i,region:u})];case 4:return R.sent(),[3,6];case 5:return w=R.sent(),$.debug({err:w}),O=w.message,I=void 0===O?"":O,n.error({errors:[W({},new L("Connection failed: "+I))]}),n.complete(),"function"==typeof(T=(this.subscriptionObserverMap.get(r)||{}).subscriptionFailedCallback)&&T(),[2];case 6:return S=this.subscriptionObserverMap.get(r),A=S.subscriptionFailedCallback,N=S.subscriptionReadyCallback,this.subscriptionObserverMap.set(r,{observer:n,subscriptionState:d,variables:s,query:o,subscriptionReadyCallback:N,subscriptionFailedCallback:A,startAckTimeoutId:setTimeout((function(){C._timeoutStartSubscriptionAck.call(C,r)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(E),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return z(this,void 0,void 0,(function(){var t=this;return X(this,(function(n){return this.subscriptionObserverMap.get(e).subscriptionState===x.PENDING?[2,new Promise((function(n,r){var i=t.subscriptionObserverMap.get(e),o=i.observer,s=i.subscriptionState,a=i.variables,c=i.query;t.subscriptionObserverMap.set(e,{observer:o,subscriptionState:s,variables:a,query:c,subscriptionReadyCallback:n,subscriptionFailedCallback:r})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===j.READY){var t={id:e,type:D.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(r){$.debug({err:r})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{$.debug("closing WebSocket..."),clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.onclose=void 0,e.onerror=void 0,e.close(1e3),this.awsRealTimeSocket=null,this.socketStatus=j.CLOSED}else this.socketStatus=j.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){$.debug("subscription message from AWS AppSync RealTime: "+e.data);var t=JSON.parse(e.data),n=t.id,r=void 0===n?"":n,i=t.payload,o=t.type,s=this.subscriptionObserverMap.get(r)||{},a=s.observer,c=void 0===a?null:a,u=s.query,l=void 0===u?"":u,f=s.variables,p=void 0===f?{}:f,h=s.startAckTimeoutId,d=s.subscriptionReadyCallback,v=s.subscriptionFailedCallback;if($.debug({id:r,observer:c,query:l,variables:p}),o===D.GQL_DATA&&i&&i.data)c?c.next(i):$.debug("observer not found for id: "+r);else if(o!==D.GQL_START_ACK){if(o===D.GQL_CONNECTION_KEEP_ALIVE)return clearTimeout(this.keepAliveTimeoutId),void(this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,J.a.TIMEOUT_DISCONNECT),this.keepAliveTimeout));if(o===D.GQL_ERROR){y=x.FAILED;this.subscriptionObserverMap.set(r,{observer:c,query:l,variables:p,startAckTimeoutId:h,subscriptionReadyCallback:d,subscriptionFailedCallback:v,subscriptionState:y}),c.error({errors:[W({},new L("Connection failed: "+JSON.stringify(i)))]}),clearTimeout(h),c.complete(),"function"==typeof v&&v()}}else{$.debug("subscription ready for "+JSON.stringify({query:l,variables:p})),"function"==typeof d&&d(),clearTimeout(h),function(e,t,n){B.a.dispatch("api",{event:e,data:t,message:n},"PubSub",ee)}(J.a.SUBSCRIPTION_ACK,{query:l,variables:p},"Connection established for subscription");var y=x.CONNECTED;this.subscriptionObserverMap.set(r,{observer:c,query:l,variables:p,startAckTimeoutId:null,subscriptionState:y,subscriptionReadyCallback:d,subscriptionFailedCallback:v})}},t.prototype._errorDisconnect=function(e){$.debug("Disconnect error: "+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n&&!n.closed&&n.error({errors:[W({},new L(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=j.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e)||{},n=t.observer,r=t.query,i=t.variables;n&&(this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:x.FAILED}),n&&!n.closed&&(n.error({errors:[W({},new L("Subscription timeout "+JSON.stringify({query:r,variables:i})))]}),n.complete()),$.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i})))},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region;if(this.socketStatus!==j.READY)return new Promise((function(e,s){return z(t,void 0,void 0,(function(){var t,a,c,u,l,f,p,h,d,v;return X(this,(function(y){switch(y.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==j.CLOSED)return[3,5];y.label=1;case 1:return y.trys.push([1,4,,5]),this.socketStatus=j.CONNECTING,t=this.isSSLEnabled?"wss://":"ws://",a=n.replace("https://",t).replace("http://",t).replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),c="{}",f=(l=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:c,canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:n,region:o})];case 2:return u=f.apply(l,[y.sent()]),p=q.Buffer.from(u).toString("base64"),h=q.Buffer.from(c).toString("base64"),d=a+"?header="+p+"&payload="+h,[4,this._initializeRetryableHandshake({awsRealTimeUrl:d})];case 3:return y.sent(),this.promiseArray.forEach((function(e){var t=e.res;$.debug("Notifying connection successful"),t()})),this.socketStatus=j.READY,this.promiseArray=[],[3,5];case 4:return v=y.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(v)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=null,this.socketStatus=j.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){var t=e.awsRealTimeUrl;return z(this,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return $.debug("Initializaling retryable Handshake"),[4,Object(V.b)(this._initializeHandshake.bind(this),[{awsRealTimeUrl:t}],5e3)];case 1:return e.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){var t=e.awsRealTimeUrl;return z(this,void 0,void 0,(function(){var e,n,r,i=this;return X(this,(function(o){switch(o.label){case 0:$.debug("Initializing handshake "+t),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,new Promise((function(e,n){var r=new WebSocket(t,"graphql-ws");r.onerror=function(){$.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return i.awsRealTimeSocket=r,e()}}))];case 2:return o.sent(),[4,new Promise((function(e,t){var n=!1;i.awsRealTimeSocket.onerror=function(e){$.debug("WebSocket error "+JSON.stringify(e))},i.awsRealTimeSocket.onclose=function(e){$.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},i.awsRealTimeSocket.onmessage=function(r){$.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var o=JSON.parse(r.data),s=o.type,a=o.payload,c=(void 0===a?{}:a).connectionTimeoutMs,u=void 0===c?3e5:c;if(s===D.GQL_CONNECTION_ACK)return n=!0,i.keepAliveTimeout=u,i.awsRealTimeSocket.onmessage=i._handleIncomingSubscriptionMessage.bind(i),i.awsRealTimeSocket.onerror=function(e){$.debug(e),i._errorDisconnect(J.a.CONNECTION_CLOSED)},i.awsRealTimeSocket.onclose=function(e){$.debug("WebSocket closed "+e.reason),i._errorDisconnect(J.a.CONNECTION_CLOSED)},void e("Cool, connected to AWS AppSyncRealTime");if(s===D.GQL_CONNECTION_ERROR){var l=o.payload,f=(void 0===l?{}:l).errors,p=Z(void 0===f?[]:f,1)[0],h=void 0===p?{}:p,d=h.errorType,v=void 0===d?"":d,y=h.errorCode;t({errorType:v,errorCode:void 0===y?0:y})}};var r={type:D.GQL_CONNECTION_INIT};i.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout(function(){n||t(new Error("Connection timeout: ack from AWSRealTime was not received on 15000 ms"))}.bind(i),15e3)}))];case 3:return o.sent(),[3,5];case 4:throw e=o.sent(),n=e.errorType,r=e.errorCode,te.includes(r)?new V.a(n):n?new Error(n):e;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,s=e.region;return z(this,void 0,void 0,(function(){var e,a,c;return X(this,(function(u){switch(u.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this)},"function"!=typeof(a=e[t])?($.debug("Authentication type "+t+" not supported"),[2,""]):(c=U.parse(i).host,[4,a({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:s,host:c})]);case 1:return[2,u.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return z(this,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,Y.a.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return z(this,void 0,void 0,(function(){var e,n,r;return X(this,(function(i){switch(i.label){case 0:return[4,Q.a.getItem("federatedInfo")];case 1:return(n=i.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,Y.a.currentAuthenticatedUser()];case 3:(r=i.sent())&&(e=r.token),i.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return z(this,void 0,void 0,(function(){var e,r;return X(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return z(this,void 0,void 0,(function(){var e,o,s;return X(this,(function(a){switch(a.label){case 0:return e={region:i,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");return[4,G.a.get().then((function(e){return{secret_key:e.secretAccessKey,access_key:e.accessKeyId,session_token:e.sessionToken}}))];case 2:return o=a.sent(),s={url:""+r+n,data:t,method:"POST",headers:W({},ne)},[2,K.a.sign(s,o,e).headers]}}))}))},t.prototype._ensureCredentials=function(){return G.a.get().then((function(e){if(!e)return!1;var t=G.a.shear(e);return $.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return $.warn("ensure credentials error",e),!1}))},t}(h),ie=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},oe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},se=Object(o.b)().isNode,ae=new s.a("PubSub"),ce=new(function(){function e(e){this._options=e,ae.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new C(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new re(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return ae.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return ie(this,void 0,void 0,(function(){return oe(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.getProviderByName=function(e){return e===a.a?this.awsAppSyncProvider:e===a.b?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return ie(this,void 0,void 0,(function(){return oe(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(se&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");ae.debug("subscribe options",t);var n=this.getProviders(t);return new i.a((function(r){var i=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return i.forEach((function(e){return e.unsubscribe()}))}}))},e}())(null);c.a.register(ce)},vVj2:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("Nt7R"),i=n("Kkn0"),o=n("7Z+r"),s=n("CxY0"),a=n("9mpf"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=new r.a("Signer"),f=function(e,t){var n=new i.Sha256(e);return n.update(t),n.digestSync()},p=function(e){var t=e||"",n=new i.Sha256;return n.update(t),Object(o.b)(n.digestSync())},h=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},d=function(e){var t,n,r=Object(s.parse)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),h(e.headers),p(e.data)].join("\n")},v=function(e){var t=(Object(s.parse)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},y=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},g=function(e,t,n,r){return[e,n,r,p(t)].join("\n")},_=function(e,t,n){l.debug(n);var r=f("AWS4"+e,t),i=f(r,n.region),o=f(i,n.service);return f(o,"aws4_request")},b=function(e,t){return Object(o.b)(f(e,t))},m=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=a.a.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=Object(s.parse)(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var c=d(e);l.debug(c);var u=n||v(e),f=y(i,u.region,u.service),p=g("AWS4-HMAC-SHA256",c,r,f),m=_(t.secret_key,i,u),E=b(m,p),w=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}("AWS4-HMAC-SHA256",t.access_key,f,h(e.headers),E);return e.headers.Authorization=w,e},e.signUrl=function(e,t,n,r){var i="object"==typeof e?e.url:e,o="object"==typeof e?e.method:"GET",l="object"==typeof e?e.body:void 0,f=a.a.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),p=f.substr(0,8),h=Object(s.parse)(i,!0,!0),m=(h.search,u(h,["search"])),E={host:m.host},w=n||v({url:Object(s.format)(m)}),O=w.region,I=w.service,T=y(p,O,I),S=t.session_token&&"iotdevicegateway"!==I,A=c(c(c({"X-Amz-Algorithm":"AWS4-HMAC-SHA256","X-Amz-Credential":[t.access_key,T].join("/"),"X-Amz-Date":f.substr(0,16)},S?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(E).join(",")}),N=d({method:o,url:Object(s.format)(c(c({},m),{query:c(c({},m.query),A)})),headers:E,data:l}),k=g("AWS4-HMAC-SHA256",N,f,T),C=_(t.secret_key,p,{region:O,service:I}),R=b(C,k),M=c({"X-Amz-Signature":R},t.session_token&&{"X-Amz-Security-Token":t.session_token});return Object(s.format)({protocol:m.protocol,slashes:!0,hostname:m.hostname,port:m.port,pathname:m.pathname,query:c(c(c({},m.query),A),M)})},e}()}}]);
//# sourceMappingURL=b6e20aab3e3f30f31120f67ca13079a74be1f3fb-7c9e1b12f454434dd9a4.js.map