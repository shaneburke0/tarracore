{"version":3,"sources":["webpack:///./src/components/QuantityPicker.js","webpack:///./src/pages/cart.js"],"names":["QuantityPicker","increment","decrement","numberOfitems","hideQuantityLabel","className","onClick","Cart","context","numberOfItemsInCart","cart","removeFromCart","total","setItemQuantity","cartEmpty","Number","userToken","useAuthState","useState","isLoginModalOpen","setLoginModalOpen","item","quantity","useEffect","title","to","map","key","id","slugify","name","src","image","alt","answer","numberFormat","price","navigate","customClasses","open","closeModal","CartWithContext","props","Consumer"],"mappings":"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","file":"component---src-pages-cart-js-fe6546ab2a1033b258e6.js","sourcesContent":["import React from \"react\"\n\nexport default function QuantityPicker({\n  increment,\n  decrement,\n  numberOfitems,\n  hideQuantityLabel,\n}) {\n  return (\n    <div className={`flex items-center`}>\n      {!hideQuantityLabel && <div className=\"px-2 text-xs\">QUANTITY</div>}\n      <button\n        className=\"\n        w-10 h-10 text-2xl\n        md:w-8 md:h-8 md:text-sm\n        cursor-pointer text-center border pb-.5\n        hover:bg-gray-900 hover:text-white\n        focus:outline-none\n        \"\n        onClick={decrement}\n      >\n        -\n      </button>\n      <p\n        className=\"\n        w-10 h-10 pt-2 text-base\n        md:w-8 md:h-8 md:pt-1 md:text-xs\n        m-0 border-t border-b text-center\"\n      >\n        {numberOfitems}\n      </p>\n\n      <button\n        className=\"\n        w-10 h-10 text-xl\n        md:w-8 md:h-8 md:text-sm \n        cursor-pointer text-center border pb-.5\n        hover:bg-gray-900 hover:text-white\n        focus:outline-none\n        \"\n        onClick={increment}\n      >\n        +\n      </button>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport SEO from \"../components/seo\"\nimport { SiteContext, ContextProviderComponent } from \"../context/mainContext\"\nimport { FaTimes } from \"react-icons/fa\"\nimport { Link, navigate } from \"gatsby\"\nimport NavActions from \"../components/NavActions\"\nimport Button from \"../components/Button\"\nimport LoginModal from \"../components/LoginModal/LoginModal\"\nimport { useAuthState } from \"../context/authContext\"\nimport QuantityPicker from \"../components/QuantityPicker\"\nimport { slugify, numberFormat } from \"../../utils/helpers\"\nimport Image from \"../components/Image\"\n\nconst Cart = ({ context }) => {\n  const {\n    numberOfItemsInCart,\n    cart,\n    removeFromCart,\n    total,\n    setItemQuantity,\n  } = context\n  const cartEmpty = numberOfItemsInCart === Number(0)\n\n  const { userToken } = useAuthState()\n  const [isLoginModalOpen, setLoginModalOpen] = useState(false)\n\n  useEffect(() => {\n    if (userToken) setLoginModalOpen(false)\n  }, [userToken])\n\n  function increment(item) {\n    item.quantity = item.quantity + 1\n    setItemQuantity(item)\n  }\n\n  function decrement(item) {\n    if (item.quantity === 1) return\n    item.quantity = item.quantity - 1\n    setItemQuantity(item)\n  }\n\n  function checkout() {\n    if (!userToken) {\n      setLoginModalOpen(true)\n      return\n    }\n    navigate(\"/checkout\")\n  }\n\n  return (\n    <>\n      <SEO title=\"Cart\" />\n      <NavActions />\n      <div className=\"mobile:px-10 px-4 pb-10 flex justify-center main-content\">\n        <div className=\"w-fw\">\n          <div className=\"flex flex-col items-center pb-10\">\n            <div\n              className=\"\n          flex flex-col w-full\n          c_large:w-c_large\n        \"\n            >\n              <div className=\"pt-10 pb-8\">\n                <h1 className=\"text-5xl font-light\">Your Cart</h1>\n              </div>\n\n              {cartEmpty ? (\n                <div>\n                  <h3>No items in cart.</h3>\n                  <Link to=\"/competitions\" className=\"text-green-700\">\n                    Click here to find a competition\n                  </Link>\n                </div>\n              ) : (\n                <div className=\"flex flex-col\">\n                  <div className=\"\">\n                    {cart.map(item => {\n                      return (\n                        <div className=\"border-b py-10\" key={item.id}>\n                          {/* Responsive - Desktop */}\n                          <div className=\"flex items-center hidden md:flex\">\n                            <Link to={slugify(item.name)}>\n                              <Image\n                                className=\"w-32 m-0\"\n                                src={item.image}\n                                alt={item.name}\n                              />\n                            </Link>\n                            <Link to={slugify(item.name)}>\n                              <p\n                                className=\"\n                              m-0 pl-10 text-gray-600 text-sm w-56\n                              \"\n                              >\n                                {item.name}\n                              </p>\n                            </Link>\n                            <div className=\"ml-4\">\n                              <QuantityPicker\n                                numberOfitems={item.quantity}\n                                increment={() => increment(item)}\n                                decrement={() => decrement(item)}\n                              />\n                            </div>\n                            <div className=\"ml-4 text-center\">\n                              <span className=\"text-gray-600 text-sm\">\n                                Answer: {item.answer}\n                              </span>\n                            </div>\n                            <div className=\"flex flex-1 justify-end\">\n                              <p className=\"m-0 pl-10 text-gray-900 tracking-tighter font-semibold\">\n                                {numberFormat(item.price)}\n                              </p>\n                            </div>\n                            <button\n                              onClick={() => removeFromCart(item)}\n                              className=\"\n                            m-0 ml-10 text-gray-900 text-s cursor-pointer\n                            \"\n                            >\n                              <FaTimes />\n                            </button>\n                          </div>\n\n                          {/* Responsive - Mobile */}\n                          <div className=\"flex items-center flex md:hidden\">\n                            <Link to={slugify(item.name)}>\n                              <Image\n                                className=\"w-32 m-0\"\n                                src={item.image}\n                                alt={item.name}\n                              />\n                            </Link>\n                            <div>\n                              <Link to={slugify(item.name)}>\n                                <p\n                                  className=\"\n                                m-0 pl-6 text-gray-600 text-base\n                                \"\n                                >\n                                  {item.name}\n                                </p>\n                              </Link>\n                              <div className=\"ml-6 mt-4 mb-2\">\n                                <QuantityPicker\n                                  hideQuantityLabel\n                                  numberOfitems={item.quantity}\n                                  increment={() => increment(item)}\n                                  decrement={() => decrement(item)}\n                                />\n                              </div>\n                              <div className=\"ml-6 mt-4 mb-2\">\n                                <span className=\"text-gray-600 text-sm\">\n                                  Answer: {item.answer}\n                                </span>\n                              </div>\n                              <div className=\"flex flex-1\">\n                                <p className=\"text-lg m-0 pl-6 pt-4 text-gray-900 tracking-tighter font-semibold\">\n                                  {numberFormat(item.price)}\n                                </p>\n                              </div>\n                            </div>\n                            <button\n                              onClick={() => removeFromCart(item)}\n                              className=\"\n                            m-0 ml-10 text-gray-900 text-s cursor-pointer mr-2\n                            \"\n                            >\n                              <FaTimes />\n                            </button>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              )}\n              <div className=\"flex flex-1 justify-end py-8\">\n                <p className=\"text-sm pr-10\">Total</p>\n                <p className=\"font-semibold tracking-tighter\">\n                  {numberFormat(total)}\n                </p>\n              </div>\n              {!cartEmpty && (\n                <div className=\"flex flex-1 justify-end\">\n                  <Button\n                    title=\"Checkout\"\n                    onClick={() => checkout()}\n                    customClasses=\"w-full md:w-6/12\"\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      <LoginModal\n        open={isLoginModalOpen}\n        closeModal={() => setLoginModalOpen(false)}\n      />\n    </>\n  )\n}\n\nfunction CartWithContext(props) {\n  return (\n    <ContextProviderComponent>\n      <SiteContext.Consumer>\n        {context => <Cart {...props} context={context} />}\n      </SiteContext.Consumer>\n    </ContextProviderComponent>\n  )\n}\n\nexport default CartWithContext\n"],"sourceRoot":""}